<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue Store</title>
    <link rel="stylesheet" href="../css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
</head>
<body id="bodyhtml" class="d-flex flex-column min-vh-100">
    <!-- Video de fondo -->
    <video src="../assets/naruto-8.mp4" autoplay muted loop type="video/mp4"></video>

    <div id="app">

        <header-component></header-component>
        
        <div class="overlay-custom" v-if="isCartVisible" @click="toggleCart"></div>
        <div class="modal-cart-custom" v-if="isCartVisible">
            <div class="modal-content-custom">
                <button class="close-modal-custom" @click="toggleCart">&times;</button>
                <div class="cart-row-product-custom">
                    <div v-if="cart.length === 0" class="cart-empty-message-custom">El carrito está vacío</div>
                    <div v-for="product in cart" :key="product.id" class="cart-item-custom">
                        <figure class="cart-item-figure-custom">
                            <img :src="product.imgSrc" :alt="product.title" class="cart-item-image-custom"/>
                        </figure>
                        <div class="cart-info-product-custom">
                            <h2 class="cart-item-title-custom">{{ product.title }}</h2>
                            <div class="cart-quantity-container-custom">
                                <button @click="decreaseQuantity(product)">-</button>
                                <span class="cart-quantity-custom">{{ product.quantity }}</span>
                                <button @click="increaseQuantity(product)">+</button>
                            </div>
                            <span class="cart-price-custom">$ {{ product.price.toFixed(2) }}</span>
                            <button @click="removeProduct(product)" class="cart-btn-remove-custom">Eliminar</button>
                        </div>
                        <span class="cart-total-price-custom">$ {{ (product.price * product.quantity).toFixed(2) }}</span>
                    </div>
                </div>
                <div class="cart-actions-custom" v-if="cart.length > 0">
                    <span class="cart-total-price-custom"><strong>Total:</strong> $ {{ total.toFixed(2) }}</span>
                    <a href="formulario.html" class="btn-buy-custom">Buy</a>
                </div>
            </div>
        </div>

        <div class="container-items-custom">
            <div v-for="item in items" :key="item.title" class="item-custom">
                <figure>
                    <img :src="item.imgSrc" :alt="item.title"/>
                </figure>
                <div class="info-product-custom">
                    <h2>{{ item.title }}</h2>
                    <p class="price-custom">$ {{ item.price }}</p>
                    <button @click="addToCart(item)" class="btn-add-card-custom">Add to Cart</button>
                </div>
            </div>
        </div>
        
        <footer-component></footer-component>
    </div>

    <audio id="hoverSound" src="../assets/Voicy_Narutooo Sasukeee.mp3" preload="auto"></audio>
    <script src="../scripts/store.js"></script>
    <script src="../scripts/main.js"></script>
</body>
</html>
